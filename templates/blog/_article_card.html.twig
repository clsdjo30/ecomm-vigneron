{# Composant r√©utilisable pour afficher une carte article #}
<article class="card mb-4 shadow-sm">
    <div class="row g-0">
        {# Image #}
        <div class="col-md-4">
            {% if post.featuredImage %}
                <img src="/uploads/blog/{{ post.featuredImage }}" class="img-fluid rounded-start h-100 object-fit-cover" alt="{{ post.title }}">
            {% else %}
                <img src="https://via.placeholder.com/400x300?text={{ post.title|url_encode }}" class="img-fluid rounded-start h-100 object-fit-cover" alt="{{ post.title }}">
            {% endif %}
        </div>

        {# Content #}
        <div class="col-md-8">
            <div class="card-body">
                {# Category badge #}
                <div class="mb-2">
                    <a href="{{ path('app_blog_category', {slug: post.category.slug}) }}" class="badge bg-wine text-decoration-none">
                        {{ post.category.name }}
                    </a>
                </div>

                {# Title #}
                <h5 class="card-title">
                    <a href="{{ path('app_blog_show', {slug: post.slug}) }}" class="text-decoration-none text-dark">
                        {{ post.title }}
                    </a>
                </h5>

                {# Excerpt #}
                {% if post.excerpt %}
                    <p class="card-text text-muted">{{ post.excerpt }}</p>
                {% endif %}

                {# Meta info #}
                <div class="d-flex justify-content-between align-items-center">
                    <small class="text-muted">
                        <i class="bi bi-calendar"></i> {{ post.createdAt|date('d/m/Y') }}
                    </small>

                    <a href="{{ path('app_blog_show', {slug: post.slug}) }}" class="btn btn-sm btn-outline-wine">
                        Lire la suite <i class="bi bi-arrow-right"></i>
                    </a>
                </div>

                {# Tags #}
                {% if post.tags|length > 0 %}
                    <div class="mt-3">
                        {% for tag in post.tags %}
                            <a href="{{ path('app_blog_tag', {slug: tag.slug}) }}" class="badge bg-secondary text-decoration-none me-1">
                                #{{ tag.name }}
                            </a>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</article>
